#include "libc.jit"

struct pair { int a, int b };

struct nested { pair a, pair b };

struct pairp { int *a, int *b };

let pair glob = {22, 44};

fun main() int {
        let pair p = {1, 2};
        let pair *pptr = &p;

        let pair p2 = {3, 4};
        p2 = glob;

        let int* pb = &glob.b;
        p.a = *pb;

        let pair* pptr2 = pptr;
        let pair* pptr3 = pptr2;
        pptr = pptr3;

        let int a = 3;

        return p.a + p.b + p2.b;
}
